# Component Architecture - Single File Approach\n\n## **📁 Clean Component Structure**\n\nEach component uses a single `component.json` file containing all configuration:\n\n```\ncomponents/\n├── hero/\n│   ├── component.json        ← Single file with ALL configuration\n│   ├── template.php          ← Component template\n│   ├── script.js             ← Component JavaScript\n│   ├── styles.css            ← Component styles\n│   └── ...\n├── topics/\n│   ├── component.json        ← Single file with ALL configuration\n│   └── ...\n└── ...\n```\n\n## **🎯 Single File Benefits**\n\n### **✅ No Duplication**\n- One file per component (no schema.json + component.json)\n- Eliminates redundant configuration\n- Single source of truth for each component\n\n### **✅ Complete Component Definition**\n- Basic metadata (name, category, description)\n- Phase 2 configuration options\n- Data bindings for Pods fields\n- Presets for quick styling\n- Responsive behavior rules\n- Section organization\n\n### **✅ Clean Architecture**\n- No legacy support needed (not in production)\n- Modern Phase 2 approach only\n- Component-owned configuration\n- Self-documenting structure\n\n## **📋 component.json Format**\n\n```json\n{\n  \"name\": \"Component Display Name\",\n  \"category\": \"essential|layout|content|premium\",\n  \"description\": \"Component description\",\n  \"isPremium\": false,\n  \"version\": \"2.0.0-phase2\",\n  \"order\": 1,\n  \n  \"dataBindings\": {\n    \"field1\": \"pods_field_name\",\n    \"field2\": \"another_pods_field\"\n  },\n  \n  \"componentOptions\": {\n    \"option1\": {\n      \"type\": \"select|boolean|number|color|text|textarea|multiselect\",\n      \"label\": \"User-friendly Label\",\n      \"description\": \"Help text for users\",\n      \"default\": \"default_value\",\n      \"options\": { \"value\": \"Display Label\" },\n      \"section\": \"layout|appearance|content|functionality\",\n      \"preview\": true\n    }\n  },\n  \n  \"sections\": {\n    \"layout\": {\n      \"title\": \"Layout Options\",\n      \"description\": \"Choose how elements are arranged\",\n      \"order\": 1,\n      \"icon\": \"layout\"\n    }\n  },\n  \n  \"presets\": {\n    \"preset_key\": {\n      \"name\": \"Preset Display Name\",\n      \"options\": { \"option1\": \"preset_value\" }\n    }\n  },\n  \n  \"responsiveBehavior\": {\n    \"mobile\": { \"option1\": \"mobile_override\" },\n    \"tablet\": { \"option1\": \"tablet_override\" }\n  }\n}\n```\n\n## **🔧 PHP Loading**\n\nThe `class-gmkb-component-schema-registry.php` now:\n\n1. **Scans** `/components/` directory for all component folders\n2. **Loads** `component.json` from each component folder\n3. **Extracts** Phase 2 configuration sections automatically\n4. **Validates** structure and logs comprehensive debug info\n5. **Supports** any number of components dynamically\n\n## **✅ Consolidation Complete**\n\n- ✅ **hero/component.json** - Complete hero configuration\n- ✅ **topics/component.json** - Complete topics configuration  \n- ✅ **contact/component.json** - Complete contact configuration\n- ✅ **biography/component.json** - Complete biography configuration\n- ✅ **PHP registry updated** - Loads from component.json files\n- ✅ **Duplicate files removed** - No more schema.json files\n- ✅ **Clean architecture** - No legacy code\n\n## **🚀 Adding New Components**\n\nTo add a new component:\n\n1. **Create component folder:** `/components/my-component/`\n2. **Add single config file:** `/components/my-component/component.json`\n3. **Define everything in one place:** metadata + options + presets\n4. **Build component files:** template.php, script.js, styles.css\n5. **Automatic discovery:** No PHP changes needed\n\n## **🧪 Testing**\n\nThe consolidation maintains full functionality:\n\n- ✅ Same Stage 2 tests work identically\n- ✅ Component Options UI unchanged\n- ✅ Configuration and presets work the same\n- ✅ Real-time preview fully functional\n- ✅ Debug logging shows component.json loading\n\n**The architecture is now cleaner with zero redundancy!**"