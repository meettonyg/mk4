/**\n * @file debug-wordpress-enqueue.js\n * @description Debug why WordPress isn't enqueuing our scripts\n */\n\n(function() {\n    'use strict';\n    \n    console.log('%c🔍 WORDPRESS ENQUEUE DEBUG', 'font-size: 16px; font-weight: bold; color: #dc2626; background: #fef2f2; padding: 8px;');\n    \n    // Check what's happening with WordPress enqueuing\n    console.group('📋 WordPress Script Queue Analysis:');\n    \n    // Get all script tags\n    const allScripts = Array.from(document.querySelectorAll('script[src]'));\n    const wordpressScripts = allScripts.filter(script => \n        script.src.includes('wp-content') || \n        script.src.includes('wp-includes')\n    );\n    const guestifyScripts = allScripts.filter(script => script.src.includes('guestify'));\n    \n    console.log('Total scripts on page:', allScripts.length);\n    console.log('WordPress scripts:', wordpressScripts.length);\n    console.log('Guestify scripts:', guestifyScripts.length);\n    console.log('\\nGuestify scripts found:');\n    guestifyScripts.forEach((script, index) => {\n        const filename = script.src.split('/').pop().split('?')[0];\n        console.log(`  ${index + 1}. ${filename}`);\n    });\n    \n    console.groupEnd();\n    \n    // Check for missing foundation scripts\n    console.group('🔍 Missing Script Analysis:');\n    \n    const expectedScripts = [\n        'gmkb-main.js',\n        'gmkb-system-initializer.js',\n        'enhanced-component-manager.js',\n        'core-systems-bundle.js',\n        'application-bundle.js'\n    ];\n    \n    const foundScripts = guestifyScripts.map(s => s.src.split('/').pop().split('?')[0]);\n    const missingScripts = expectedScripts.filter(expected => \n        !foundScripts.some(found => found.includes(expected.replace('.js', '')))\n    );\n    \n    console.log('Expected scripts:', expectedScripts);\n    console.log('Found scripts:', foundScripts);\n    console.log('Missing scripts:', missingScripts);\n    \n    if (missingScripts.length > 0) {\n        console.log(`\\n❌ ${missingScripts.length} critical scripts missing!`);\n        console.log('This indicates WordPress enqueue.php is not running or not detecting the page correctly.');\n    } else {\n        console.log('\\n✅ All expected scripts found');\n    }\n    \n    console.groupEnd();\n    \n    // Check URL patterns\n    console.group('🌐 URL Pattern Analysis:');\n    \n    const currentUrl = window.location.href;\n    const pathname = window.location.pathname;\n    const search = window.location.search;\n    \n    console.log('Full URL:', currentUrl);\n    console.log('Pathname:', pathname);\n    console.log('Search params:', search);\n    \n    // Test detection patterns\n    const patterns = {\n        'contains /media-kit': pathname.includes('/media-kit'),\n        'contains /guestify-media-kit': pathname.includes('/guestify-media-kit'),\n        'contains media-kit-builder': pathname.includes('media-kit-builder')\n    };\n    \n    console.log('\\nPattern matches:');\n    Object.entries(patterns).forEach(([pattern, matches]) => {\n        console.log(`  ${matches ? '✅' : '❌'} ${pattern}: ${matches}`);\n    });\n    \n    const shouldMatch = Object.values(patterns).some(Boolean);\n    console.log(`\\n${shouldMatch ? '✅' : '❌'} URL should trigger script loading: ${shouldMatch}`);\n    \n    console.groupEnd();\n    \n    // Check WordPress hooks/timing\n    console.group('⏰ WordPress Timing Analysis:');\n    \n    console.log('Document ready state:', document.readyState);\n    console.log('wp_enqueue_scripts fired:', !!(window.wp && window.wp.hooks));\n    console.log('jQuery loaded:', typeof window.jQuery !== 'undefined');\n    \n    // Check for WordPress localized data\n    const wpData = window.guestifyData || window.guestifyMediaKit;\n    console.log('WordPress localized data:', !!wpData);\n    if (wpData) {\n        console.log('Localized data keys:', Object.keys(wpData));\n    }\n    \n    console.groupEnd();\n    \n    // Recommendations\n    console.group('💡 Recommendations:');\n    \n    if (missingScripts.length > 0) {\n        console.log('1. ✅ CRITICAL: enqueue.php is not loading scripts');\n        console.log('2. 🔧 Check if enqueue_frontend_scripts() is being called');\n        console.log('3. 🔧 Check WordPress error logs for PHP errors');\n        console.log('4. 🔧 Verify GUESTIFY_PLUGIN_URL constant is correct');\n        \n        if (!shouldMatch) {\n            console.log('5. ⚠️ URL pattern detection is failing');\n            console.log('   Current pathname:', pathname);\n            console.log('   Expected pattern: /guestify-media-kit');\n        }\n    } else {\n        console.log('✅ All scripts loading correctly');\n    }\n    \n    console.groupEnd();\n    \n    // Global debug function\n    window.debugWordPressEnqueue = () => {\n        console.clear();\n        location.reload();\n    };\n    \n    console.log('🔄 Run debugWordPressEnqueue() to re-run this analysis');\n    \n})();\n